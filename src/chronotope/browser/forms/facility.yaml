factory: form
name: facilityform
props:
    action: context.form_action
widgets:
- title:
    factory: field:label:error:text
    value: expr:context.model.attrs['title']
    props:
        label: i18n:title_label:Title
        required: i18n:title_required:Title is required
- description:
    factory: field:label:error:wysihtml5
    value: expr:context.model.attrs['description']
    props:
        label: i18n:description_label:Description
        required: i18n:title_required:Description is required
        focus: True
        resize: True
        size: mini
        color: True
        emphasis: True
        font-styles: True
        html: True
        image: False
        justify: True
        link: True
        lists: True
- exists_from:
    factory: field:label:error:datetime
    value: expr:context.model.attrs['exists_from']
    props:
        label: i18n:exists_from_label:Exists From
        time: True
        datepicker: True
        locale: de
- exists_to:
    factory: field:label:error:datetime
    value: expr:context.model.attrs['exists_to']
    props:
        label: i18n:exists_to_label:Exists To
        time: True
        datepicker: True
        locale: de
- category:
    factory: field:label:error:select2
    value: expr:context.category_value
    props:
        label: i18n:category_label:Category
        inputtag: True
        minimumInputLength: 3
        multiple: True
        placeholder: i18n:category_placeholder:Select or add category
        ajaxurl: chronotope.category
        tags: True,
- location:
    factory: field:label:error:select2
    value: expr:context.location_value
    props:
        label: i18n:location_label:Location
        inputtag: True
        minimumInputLength: 3
        multiple: True
        placeholder: i18n:location_placeholder:Select or add location
        ajaxurl: chronotope.location
- save:
    factory: submit
    props:
        action: save
        expression: True
        handler: context.save
        next: context.next
        label: i18n:save:Save
- cancel:
    factory: submit
    props:
        action: cancel
        expression: expr:context.action_resource == 'add'
        handler: None
        next: context.next
        label: i18n:cancel:Cancel
        skip: True
